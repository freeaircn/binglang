(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-668292dc"],{2761:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-wrapper"},[n("div",{staticClass:"login-container mb-4"},[n("div",{staticClass:"login-header py-responsive is-center"},[n("router-link",{attrs:{to:"/home"}},[n("span",[n("svg-logo",{attrs:{"logo-class":"be_green"}})],1)]),t._v(" "),n("h2",{staticClass:"title"},[t._v("登录")])],1),t._v(" "),n("el-form",{ref:"loginForm",staticClass:"container-sm px-responsive",attrs:{model:t.loginForm,rules:t.loginRules,"label-position":"left"}},[n("el-form-item",{attrs:{prop:"userphone"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"icon_mobilephone"}})],1),t._v(" "),n("el-input",{attrs:{name:"userphone",type:"text",placeholder:"请用手机号登录",clearable:""},model:{value:t.loginForm.userphone,callback:function(e){t.$set(t.loginForm,"userphone",e)},expression:"loginForm.userphone"}})],1),t._v(" "),n("el-form-item",{ref:"password_item",attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),n("el-input",{attrs:{name:"password",placeholder:"请输入密码","show-password":"",clearable:""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),n("div",{staticStyle:{display:"inline-block",margin:"0px 0px 15px 0px",color:"#409EFF"}},[n("router-link",{attrs:{to:"/forgot_password"}},[t._v("忘记密码？")])],1),t._v(" "),n("div",{staticStyle:{display:"inline-block",margin:"0px 0px 15px 0px",color:"#409EFF",float:"right"}},[n("router-link",{attrs:{to:"/signup"}},[t._v("没有账号？去注册")])],1),t._v(" "),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登 录")])],1)],1)],1)])},o=[],i=(n("a481"),n("ad7f")),s={name:"Login",data:function(){var t=function(t,e,n){Object(i["c"])(e)?n():n(new Error("请输入11位有效的手机号！"))};return{loginForm:{userphone:"",password:""},loginRules:{userphone:[{required:!0,trigger:"change",validator:t}],password:[{required:!0,message:"请输入密码",trigger:"change"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},methods:{handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){if(!e)return!1;t.loading=!0,t.$store.dispatch("Login",t.loginForm).then((function(e){t.loading=!1,"0"===e?(t.$message({type:"warning",message:"继续使用前，请完善用户个人信息！",duration:3e3}),t.$router.replace({path:"/user_settings"})):t.$router.replace({path:t.redirect||"/"})})).catch((function(e){t.loading=!1,t.$refs.password_item.resetField(),t.$message({type:"info",message:e,duration:3e3})}))}))}}},a=s,l=(n("767d"),n("7ddc"),n("2877")),c=Object(l["a"])(a,r,o,!1,null,"db06a47e",null);e["default"]=c.exports},"33bb":function(t,e,n){},"767d":function(t,e,n){"use strict";var r=n("33bb"),o=n.n(r);o.a},"7ddc":function(t,e,n){"use strict";var r=n("a029"),o=n.n(r);o.a},a029:function(t,e,n){},ad7f:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("d7e4");function o(t){var e=r["b"].REGEX_POHONE;return e.test(t)}function i(t){var e=r["b"].REGEX_MAIL;return e.test(t)}function s(t){var e=r["b"].REGEX_VERIFICAITON_CODE;return e.test(t)}function a(t){var e=r["b"].REGEX_PASSWORD;return e.test(t)}},d7e4:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r={COOKIE_EXP:48,REGEX_POHONE:/^[1][0-9]$/,REGEX_MAIL:/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,REGEX_PASSWORD:/^[0-9a-zA-Z]+$/,REGEX_CHINESE_NAME:/^([\u4e00-\u9fa5]){2,5}$/,REGEX_VERIFICAITON_CODE:/^[0-9]{5}$/,MAIL_163_URL:"https://mail.163.com",MAIL_126_URL:"https://mail.126.com",MAIL_139_URL:"http://mail.10086.cn/",MAIL_QQ_URL:"https://mail.qq.com"},o={SUCCESS:0,POST_INPUT_EMPTY:101,USERS_TOKEN_INVALID:110,USERS_SIGNUP_IDENTITY_EXISTING:201,USERS_SIGNUP_EMAIL_EXISTING:202,USERS_SIGNUP_USER_CREATE_FAILED:203,USERS_SIGNUP_LOG_USER_INFO_FAILED:204,USERS_LOGIN_FAILED:250,USERS_LOGIN_GEN_TOKEN_FAILED:251,USERS_ACTIVATE_IDENTITY_NOT_EXISTING:300,USERS_ACTIVATE_USER_BEEN_ACTIVATED:301,USERS_ACTIVATE_INPUT_EMAIL_INVALID:302,USERS_ACTIVATE_GEN_CODE_FAILED:303,USERS_ACTIVATE_SEND_MAIL_FAILED:304,USERS_GET_USER_INFO_FAILED:350}}}]);