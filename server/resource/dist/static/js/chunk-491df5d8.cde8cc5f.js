(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-491df5d8","chunk-65741130"],{"25af":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{"tab-position":"left"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("el-tab-pane",{attrs:{name:"tab_one",label:"基本信息"}},[a("div",{staticClass:"pages-account-settings-title"},[t._v("基本信息")]),t._v(" "),a("el-row",{attrs:{gutter:8}},[a("el-col",{attrs:{xs:24,sm:24,md:4,lg:4,xl:4}},[a("AppAvatar"),t._v(" "),a("div",{staticClass:"pages-account-settings-text"},[a("p",[t._v("工号: 1")]),t._v(" "),a("p",[t._v("手机: "+t._s(t.user.phone))]),t._v(" "),a("p",[t._v("邮箱: "+t._s(t.user.email))])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("el-form",{ref:"form_tab_one",attrs:{model:t.formData,rules:t.rules_tab_one,size:"mini","label-position":"top","label-width":"auto"}},[a("el-form-item",{attrs:{label:"中文名",prop:"username"}},[a("el-input",{attrs:{clearable:""},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:t.formData.sex,callback:function(e){t.$set(t.formData,"sex",e)},expression:"formData.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("男")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("女")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"identity_document_number"}},[a("el-input",{attrs:{clearable:""},model:{value:t.formData.identity_document_number,callback:function(e){t.$set(t.formData,"identity_document_number",e)},expression:"formData.identity_document_number"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"政治面貌",prop:"attr_03_id"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.formData.attr_03_id,callback:function(e){t.$set(t.formData,"attr_03_id",e)},expression:"formData.attr_03_id"}},t._l(t.politic_list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"部门",prop:"attr_01_id"}},[a("TreeSelect",{attrs:{value:t.formData.attr_01_id,options:t.dept_list,placeholder:"请选择"},on:{"update:value":function(e){return t.$set(t.formData,"attr_01_id",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"岗位",prop:"attr_02_id"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.formData.attr_02_id,callback:function(e){t.$set(t.formData,"attr_02_id",e)},expression:"formData.attr_02_id"}},t._l(t.job_list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"职称",prop:"attr_04_id"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.formData.attr_04_id,callback:function(e){t.$set(t.formData,"attr_04_id",e)},expression:"formData.attr_04_id"}},t._l(t.professional_title_list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1)],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.doUpdate()}}},[t._v("更新基本信息")])],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{name:"tab_two",label:"安全设置"}})],1)],1)},r=[],o=a("5530"),s=a("2f62"),n=a("73a3"),i=a("407b"),c={name:"AccountSettings",components:{TreeSelect:n["a"],AppAvatar:i["default"]},data:function(){return{tabIndex:"tab_one",formData:{id:"",username:"",sex:"0",phone:"",email:"",password:"",enabled:"1",roles:[],identity_document_number:"",sort:"1",attr_01_id:"",attr_02_id:"",attr_03_id:"",attr_04_id:""},role_list:[],dept_list:[],job_list:[],politic_list:[],professional_title_list:[],rules_tab_one:{}}},computed:Object(o["a"])({},Object(s["b"])(["user"])),created:function(){this.getUser()},methods:{getUser:function(){}}},u=c,d=(a("904d"),a("2877")),p=Object(d["a"])(u,l,r,!1,null,"5cca6318",null);e["default"]=p.exports},"27ac":function(t,e,a){},3430:function(t,e,a){"use strict";var l=a("89ba"),r=a.n(l);r.a},"3b5c":function(t,e,a){},"407b":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pages-account-settings-avatar-title"},[t._v("头像")]),t._v(" "),a("el-upload",{attrs:{action:t.uploadApi,"show-file-list":!1,"list-type":"picture","on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[a("el-image",{staticClass:"pages-account-settings-avatar",attrs:{src:t.imageUrl}},[a("div",{staticClass:"pages-account-settings-avatar-img-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)],1)},r=[],o=(a("6b54"),{name:"AppAvatar",data:function(){return{imageUrl:"http://127.0.0.1/resource/avatar/px200/avatar_4.jpg",uploadApi:"http://127.0.0.1/api/avatar/update"}},created:function(){var t=Math.floor(20*Math.random()+1);this.imageUrl="http://127.0.0.1/resource/avatar/px200/avatar_"+t.toString()+".jpg"},methods:{handleAvatarSuccess:function(t,e){console.log("#1"),console.log(t),console.log("#2"),console.log(e),this.imageUrl=URL.createObjectURL(e.raw),console.log(this.imageUrl)},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e}}}),s=o,n=(a("8cd0"),a("2877")),i=Object(n["a"])(s,l,r,!1,null,"276fdbbe",null);e["default"]=i.exports},"73a3":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{ref:"select",attrs:{value:t.valueId,placeholder:t.placeholder}},[a("el-option",{attrs:{value:t.valueId,label:t.valueLabel}},[a("el-tree",{ref:"selectTree",attrs:{data:t.options,props:t.props,"node-key":t.nodeKey},on:{"node-click":t.handleNodeClick}})],1)],1)},r=[],o={name:"TreeSelect",props:{value:{type:String,default:function(){return""}},options:{type:Array,default:function(){return[]}},nodeKey:{type:String,default:function(){return"id"}},props:{type:Object,default:function(){return{label:"label",children:"children"}}},accordion:{type:Boolean,default:function(){return!1}},placeholder:{type:String,default:function(){return"请选择"}}},data:function(){return{valueId:this.value,valueLabel:""}},watch:{value:function(t){var e=this;this.$nextTick((function(){e.$refs["selectTree"].getNode(t)?(e.valueLabel=e.$refs["selectTree"].getNode(t).data[e.props.label],e.valueId=t):(e.valueLabel="",e.valueId="")}))}},mounted:function(){this.$refs["selectTree"].getNode(this.valueId)?this.valueLabel=this.$refs["selectTree"].getNode(this.valueId).data[this.props.label]:this.valueLabel=""},methods:{handleNodeClick:function(t){this.$emit("update:value",t[this.nodeKey]),this.$refs["select"].blur()}}},s=o,n=(a("3430"),a("2877")),i=Object(n["a"])(s,l,r,!1,null,"46e05ccd",null);e["a"]=i.exports},"89ba":function(t,e,a){},"8cd0":function(t,e,a){"use strict";var l=a("3b5c"),r=a.n(l);r.a},"904d":function(t,e,a){"use strict";var l=a("27ac"),r=a.n(l);r.a}}]);